@import 'tailwindcss';

@plugin 'daisyui' {
	themes: light --default, dark --prefersdark, corporate, sunset, winter, luxury;
}

/* Treat both 'dark' and 'luxury' themes as dark variant */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *, [data-theme=luxury], [data-theme=luxury] *));

@layer base {
	/* ========================================
	   CSS Custom Properties (Design Tokens)
	   ======================================== */
	:root {

		/* Semantic Colors - Use DaisyUI theme tokens */
		--toastify-color-error: oklch(var(--er));
		--error-color: oklch(var(--er));
		--error-color-tint: oklch(var(--er) / 0.8);

		/* UI Element Colors */
		--tooltip-background: rgba(0, 0, 0, 0.35);

		/* Typography Scale - Industry Best Practice (WCAG 2.1 Compliant)
		 * Base: 16px (1rem) - WCAG recommended minimum for accessibility
		 * All sizes use rem for scalability and user preference respect
		 */
		--fz-xs: 0.75rem;      /* 12px - Captions, fine print */
		--fz-sm: 0.875rem;     /* 14px - Small text, labels, helper text */
		--fz-base: 1rem;       /* 16px - Body text, default (WCAG minimum) */
		--fz-lg: 1.125rem;     /* 18px - Large body, emphasized text */
		--fz-xl: 1.25rem;      /* 20px - Small headings, subheadings */
		--fz-2xl: 1.5rem;      /* 24px - Section headings */
		--fz-3xl: 1.875rem;    /* 30px - Page subheadings */
		--fz-4xl: 2.25rem;     /* 36px - Page headings */
		--fz-5xl: 3rem;        /* 48px - Hero headings */
		--fz-6xl: 3.75rem;     /* 60px - Display headings */
		
		/* Line Heights - Industry Standard */
		--lh-tight: 1.25;      /* Headings */
		--lh-normal: 1.5;      /* Body text */
		--lh-relaxed: 1.75;    /* Long-form content */

		/* Font Families */
		--font-sans: 'Montserrat', 'Inter', 'Roboto', 'Fira Sans', -apple-system, BlinkMacSystemFont,
			'Segoe UI', sans-serif;
		--font-mono: 'Fira Code', 'Courier New', Courier, monospace;

		/* Spacing & Layout */
		--border-radius: 4px;
		--nav-height: 96px;
		--nav-scroll-height: 70px;
		--nav-title-width: 250px;
		
		/* Sticky Positioning - Industry Best Practice */
		--sticky-top-offset: var(--nav-height); /* Always matches navbar height */

		/* Animation & Transitions */
		--easing: cubic-bezier(0.645, 0.045, 0.355, 1);
		--easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
		--easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
		--transition: all 0.25s var(--easing);
		--transition-fast: all 0.15s var(--easing-smooth);
		--transition-slow: all 0.4s var(--easing-smooth);
	}

	/* ========================================
	   Base HTML & Body Styles
	   ======================================== */
	html {
		box-sizing: border-box;
		font-size: 100%; /* 1rem = 16px - Industry standard, WCAG compliant */
		scroll-behavior: smooth;
		scrollbar-color: oklch(var(--b3)) transparent;
		scrollbar-width: thin;
		width: 100%;
	}

	*,
	*::before,
	*::after {
		box-sizing: inherit;
	}

	body {
		font-family: var(--font-sans);
		font-size: var(--fz-base); /* 16px - WCAG compliant base size */
		color: oklch(var(--bc)); /* DaisyUI base-content */
		background-color: oklch(var(--b1)); /* DaisyUI base-100 */
		width: 100%;
		margin: 0;
		line-height: var(--lh-normal); /* 1.5 - Industry standard */
		overflow-x: hidden;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	::selection {
		background: oklch(var(--wa));
		color: oklch(var(--wac));
	}

	/* ========================================
	   Modern Animations - Industry Best Practices
	   ======================================== */
	
	/* Fade In - Smooth entrance */
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	.animate-fade-in {
		animation: fade-in 0.3s var(--easing-smooth);
	}

	/* Shake - Error feedback (Apple style) */
	@keyframes shake {
		0%, 100% {
			transform: translateX(0);
		}
		10%, 30%, 50%, 70%, 90% {
			transform: translateX(-4px);
		}
		20%, 40%, 60%, 80% {
			transform: translateX(4px);
		}
	}

	.animate-shake {
		animation: shake 0.5s var(--easing);
	}

	/* Pulse - Loading/attention */
	@keyframes pulse-smooth {
		0%, 100% {
			opacity: 1;
		}
		50% {
			opacity: 0.6;
		}
	}

	.animate-pulse-smooth {
		animation: pulse-smooth 2s var(--easing-smooth) infinite;
	}

	/* Scale In - Modern entrance */
	@keyframes scale-in {
		from {
			transform: scale(0.95);
			opacity: 0;
		}
		to {
			transform: scale(1);
			opacity: 1;
		}
	}

	.animate-scale-in {
		animation: scale-in 0.2s var(--easing-smooth);
	}

	/* Slide Up - Elegant reveal */
	@keyframes slide-up {
		from {
			transform: translateY(10px);
			opacity: 0;
		}
		to {
			transform: translateY(0);
			opacity: 1;
		}
	}

	.animate-slide-up {
		animation: slide-up 0.3s var(--easing-smooth);
	}

	/* Fall In - Beautiful card reveal animation */
	@keyframes fall-in {
		from {
			transform: translateY(40px) scale(0.95);
			opacity: 0;
		}
		to {
			transform: translateY(0) scale(1);
			opacity: 1;
		}
	}

	.animate-fall-in {
		animation: fall-in 0.6s var(--easing-smooth) forwards;
	}

	/* Reduced motion: instant fade for accessibility */
	@media (prefers-reduced-motion: reduce) {
		.animate-fall-in {
			animation: fade-in 0.2s var(--easing-smooth) forwards;
		}
	}

	/* ========================================
	   Typography Defaults - Industry Best Practice
	   ======================================== */
	h1 {
		font-size: var(--fz-4xl); /* 36px */
		font-weight: 700;
		line-height: var(--lh-tight);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		margin: 0;
	}

	h2 {
		font-size: var(--fz-3xl); /* 30px */
		font-weight: 600;
		line-height: var(--lh-tight);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		margin: 0;
	}

	h3 {
		font-size: var(--fz-2xl); /* 24px */
		font-weight: 600;
		line-height: var(--lh-tight);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		margin: 0;
	}

	h4 {
		font-size: var(--fz-xl); /* 20px */
		font-weight: 600;
		line-height: var(--lh-tight);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		margin: 0;
	}

	h5, h6 {
		font-size: var(--fz-lg); /* 18px */
		font-weight: 600;
		line-height: var(--lh-tight);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		margin: 0;
	}

	p {
		font-size: var(--fz-base); /* 16px */
		line-height: var(--lh-normal);
		margin: 0;
	}

	/* ========================================
	   Form Field Focus Styles - Industry Best Practice
	   ======================================== */
	
	/**
	 * Remove default browser outline from form inputs and selects.
	 * Our custom components provide elegant focus rings via formFieldStyles.
	 * 
	 * **Accessibility Note:**
	 * - We use :focus-visible for keyboard navigation (WCAG 2.1 best practice)
	 * - Custom focus rings are provided via Tailwind classes in formFieldStyles
	 * - This ensures consistent, elegant focus indicators across all form fields
	 * 
	 * **Implementation:**
	 * - Removes default browser outline (often inconsistent across browsers)
	 * - Our Input and Select components handle focus styling via shared formFieldStyles
	 * - Maintains accessibility with custom focus rings (ring-2, ring-primary/20)
	 */
	select:focus,
	select:focus-visible,
	select:focus-within,
	input:focus,
	input:focus-visible,
	input:focus-within {
		outline: none !important;
	}

	/* ========================================
	   Interactive Elements
	   ======================================== */
	a {
		display: inline-block;
		position: relative;
		color: inherit;
		text-decoration: none;
		text-decoration-skip-ink: auto;
		transition: var(--transition);
	}

	/* Links inherit hover behavior from DaisyUI's .link class */
	a:hover,
	a:focus {
		opacity: 0.8;
	}

	/* ========================================
	   Modern Button System
	   ======================================== */

	/* Base Button Reset & Foundation */
	button {
		font-family: var(--font-sans);
		font-size: var(--fz-base); /* 16px - Industry standard */
		font-weight: 500;
		line-height: var(--lh-normal);
		border: none;
		border-radius: 8px;
		cursor: pointer;
		transition: all 0.2s ease-in-out;
		text-align: center;
		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: 0.5rem;
		padding: 0.875rem 1.5rem;
		position: relative;
		overflow: hidden;
		user-select: none;
		-webkit-tap-highlight-color: transparent;
	}

	/* Primary Button (Default Brand) - Theme Aware */
	button:not([class*="btn-"]):not([class*="transparent"]):not([class*="action"]):not([class*="outline"]):not([class*="ghost"]):not([class*="link"]) {
		background: linear-gradient(135deg, oklch(var(--p)), oklch(var(--s)));
		color: oklch(var(--pc));
		box-shadow: 0 2px 8px oklch(var(--p) / 0.2);
	}

	button:not([class*="btn-"]):not([class*="transparent"]):not([class*="action"]):not([class*="outline"]):not([class*="ghost"]):not([class*="link"]):hover {
		background: linear-gradient(135deg, oklch(var(--s)), oklch(var(--a)));
		box-shadow: 0 4px 12px oklch(var(--p) / 0.3);
		transform: translateY(-1px);
	}

	button:not([class*="btn-"]):not([class*="transparent"]):not([class*="action"]):not([class*="outline"]):not([class*="ghost"]):not([class*="link"]):active {
		transform: translateY(0);
		box-shadow: 0 1px 4px oklch(var(--p) / 0.2);
	}

	button:focus-visible {
		outline: 3px solid oklch(var(--p));
		outline-offset: 2px;
	}

	button:disabled {
		opacity: 0.5;
		cursor: not-allowed;
		transform: none !important;
		box-shadow: none !important;
	}

	/* Button Variants */
	button.outline {
		background: transparent;
		color: oklch(var(--p));
		border: 2px solid oklch(var(--p));
		box-shadow: none;
	}

	button.outline:hover {
		background: oklch(var(--p) / 0.1);
		border-color: oklch(var(--s));
		color: oklch(var(--s));
	}

	button.ghost {
		background: transparent;
		color: oklch(var(--bc));
		box-shadow: none;
	}

	button.ghost:hover {
		background: oklch(var(--p) / 0.1);
		color: oklch(var(--p));
	}

	button.transparent {
		background: transparent;
		color: oklch(var(--bc));
		box-shadow: none;
		padding: 0.5rem 1rem;
	}

	button.transparent:hover {
		background: oklch(var(--bc) / 0.05);
	}

	button.link {
		background: none;
		color: oklch(var(--p));
		padding: 0;
		text-decoration: underline;
		text-underline-offset: 3px;
		box-shadow: none;
	}

	button.link:hover {
		color: oklch(var(--s));
		text-decoration-thickness: 2px;
	}

	/* Button Sizes - Industry Standard */
	button.btn-xs {
		padding: 0.5rem 0.875rem;
		font-size: var(--fz-sm); /* 14px */
	}

	button.btn-sm {
		padding: 0.625rem 1.125rem;
		font-size: var(--fz-sm); /* 14px */
	}

	button.btn-lg {
		padding: 1rem 1.75rem;
		font-size: var(--fz-lg); /* 18px */
	}

	button.btn-xl {
		padding: 1.25rem 2.25rem;
		font-size: var(--fz-xl); /* 20px */
		font-weight: 600;
	}

	/* Icon Buttons */
	button.btn-circle,
	button.btn-square {
		padding: 0.75rem;
		aspect-ratio: 1;
		border-radius: 50%;
		min-width: 40px;
		min-height: 40px;
	}

	button.btn-square {
		border-radius: 8px;
	}

	/* Icon Button Color Fix - Ensure proper contrast - Theme Aware */
	button.btn-circle:not(.ghost):not(.transparent):not(.outline),
	button.btn-square:not(.ghost):not(.transparent):not(.outline) {
		background: linear-gradient(135deg, oklch(var(--p)), oklch(var(--s)));
		color: oklch(var(--pc));
	}

	button.btn-circle.ghost,
	button.btn-square.ghost,
	button.btn-circle.transparent,
	button.btn-square.transparent {
		background: transparent;
		color: oklch(var(--p));
	}

	button.btn-circle.ghost:hover,
	button.btn-square.ghost:hover {
		background: oklch(var(--p) / 0.1);
		color: oklch(var(--s));
	}

	/* Button Groups */
	.btn-group {
		display: inline-flex;
		gap: 0;
		border-radius: 8px;
		overflow: hidden;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	}

	.btn-group button {
		border-radius: 0;
		margin: 0;
	}

	.btn-group button:first-child {
		border-top-left-radius: 8px;
		border-bottom-left-radius: 8px;
	}

	.btn-group button:last-child {
		border-top-right-radius: 8px;
		border-bottom-right-radius: 8px;
	}

	.btn-group button:not(:last-child) {
		border-right: 1px solid rgba(255, 255, 255, 0.2);
	}

	/* Loading State */
	button.loading {
		position: relative;
		pointer-events: none;
		opacity: 0.7;
	}

	/* ========================================
	   Form Elements - Modern Styling
	   ======================================== */

	input[type='text'],
	input[type='email'],
	input[type='password'],
	input[type='number'],
	input[type='tel'],
	input[type='url'],
	input[type='search'],
	textarea {
		font-family: var(--font-sans);
		transition: var(--transition-fast);
	}

	/* Removed transform scale on focus - no animation/transformation on focus */
	/* Focus styling is handled by formFieldStyles for consistent, elegant appearance */

	/* Modern Select Styling - Enhanced */
	select {
		background-image: linear-gradient(45deg, transparent 50%, oklch(var(--bc) / 0.5) 50%),
			linear-gradient(135deg, oklch(var(--bc) / 0.5) 50%, transparent 50%);
		background-position: calc(100% - 20px) calc(1em + 2px),
			calc(100% - 15px) calc(1em + 2px);
		background-size: 5px 5px, 5px 5px;
		background-repeat: no-repeat;
		padding-right: 2.5rem !important;
		}

	select:hover {
		background-image: linear-gradient(45deg, transparent 50%, oklch(var(--p) / 0.7) 50%),
			linear-gradient(135deg, oklch(var(--p) / 0.7) 50%, transparent 50%);
	}

	/* ========================================
	   Floating Menu Component (Tooltips, Dropdowns)
	   ======================================== */
	.FloatingMenu {
		position: absolute;
		border: 1px solid oklch(var(--b3));
		background: oklch(var(--b1));
		box-shadow: 0 4px 20px oklch(var(--b3) / 0.3);
		border-radius: 8px;
		padding: 0.5rem;
		z-index: 1000;
		font-size: var(--fz-sm);
		backdrop-filter: blur(8px);
	}

	/* ========================================
	   Text & Display Utilities
	   ======================================== */
	.clickable {
		cursor: pointer !important;
	}

	.nowrap {
		white-space: nowrap;
	}

	/* Multi-line Text Truncation */
	.two-line-limit,
	.three-line-limit {
		display: -webkit-box;
		-webkit-box-orient: vertical;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.two-line-limit {
		-webkit-line-clamp: 2;
		line-clamp: 2;
	}

	.three-line-limit {
		-webkit-line-clamp: 3;
		line-clamp: 3;
	}

	/* ========================================
	   Layout Utilities
	   ======================================== */
	.gapped-fields {
		display: flex;
		gap: 1.25em;
	}

	/* ========================================
	   Tooltip Component
	   ======================================== */
	.titled {
		position: relative;
		padding: 10px;
		border: none;
		font-family: var(--font-sans);
		color: oklch(var(--bc)); /* DaisyUI base-content */
		transition: var(--transition);
	}

	.titled::after {
		content: attr(data-title);
		position: absolute;
		top: 110%;
		left: 50%;
		transform: translateX(-50%) scale(0.9);
		padding: 8px 12px;
		background: var(--tooltip-background);
		color: white;
		font-size: var(--fz-sm);
		border-radius: 6px;
		white-space: nowrap;
		opacity: 0;
		pointer-events: none;
		transition: var(--transition-fast);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		backdrop-filter: blur(8px);
	}

	.titled:hover::after,
	.titled:focus::after {
		opacity: 1;
		transform: translateX(-50%) scale(1);
	}

	/* ========================================
	   Page Layout Components
	   ======================================== */
	.page-header {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		width: 100%;
	}

	.page-header button {
		align-self: flex-start;
	}

	.page-title {
		font-family: 'Montserrat', var(--font-sans);
		font-size: clamp(var(--fz-3xl), 5vw, var(--fz-5xl)); /* 30px - 48px responsive */
		color: oklch(var(--bc)); /* DaisyUI base-content */
		line-height: var(--lh-tight);
	}

	.inline-link {
		position: relative;
		display: inline-block;
		padding: 0;
		font-weight: 500;
		background-color: transparent;
		transition: var(--transition);
		color: oklch(var(--p)); /* DaisyUI primary */
	}

	.inline-link::after {
		content: '';
		position: absolute;
		left: 0;
		right: 0;
		bottom: 0.1em;
		height: 1px;
		background-color: oklch(var(--p)); /* DaisyUI primary */
		opacity: 0.5;
		width: 0;
		transition: var(--transition);
	}

	.inline-link:focus-visible::after,
	.inline-link:hover::after {
		width: 100%;
}
}

/* ============================================================
 * SKELETON LOADING ANIMATIONS - Tailwind v4 + DaisyUI 5 Compatible
 * ============================================================
 * 
 * Triple-layer animation system for FAANG-standard loading states
 * Keyframes first, then utilities in @layer utilities
 */

/* Keyframe Definitions - Must be at root level */
@keyframes skeleton-pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

@keyframes skeleton-shimmer-wave {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

@keyframes skeleton-glow {
	0%, 100% {
		filter: brightness(1);
	}
	50% {
		filter: brightness(1.05);
	}
}

/* Utility Classes in @layer utilities for proper cascade */
@layer utilities {
	.skeleton-shimmer {
		position: relative !important;
		overflow: hidden !important;
		background: oklch(var(--b2) / 1) !important;
		animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite, skeleton-glow 2s ease-in-out infinite !important;
		will-change: opacity, filter !important;
	}
	
	.skeleton-shimmer::after {
		content: '' !important;
		position: absolute !important;
		inset: 0 !important;
		background: linear-gradient(
			90deg,
			rgba(255, 255, 255, 0) 0%,
			rgba(255, 255, 255, 0.1) 20%,
			rgba(255, 255, 255, 0.2) 40%,
			rgba(255, 255, 255, 0.3) 50%,
			rgba(255, 255, 255, 0.2) 60%,
			rgba(255, 255, 255, 0.1) 80%,
			rgba(255, 255, 255, 0) 100%
		) !important;
		animation: skeleton-shimmer-wave 2s ease-in-out infinite !important;
		will-change: transform !important;
		z-index: 1 !important;
	}
	
	/* Dark mode - adjusted gradient */
	@media (prefers-color-scheme: dark) {
		.skeleton-shimmer::after {
			background: linear-gradient(
				90deg,
				rgba(255, 255, 255, 0) 0%,
				rgba(255, 255, 255, 0.05) 20%,
				rgba(255, 255, 255, 0.1) 40%,
				rgba(255, 255, 255, 0.15) 50%,
				rgba(255, 255, 255, 0.1) 60%,
				rgba(255, 255, 255, 0.05) 80%,
				rgba(255, 255, 255, 0) 100%
			) !important;
		}
	}
	
	/* Reduced motion preference */
	@media (prefers-reduced-motion: reduce) {
		.skeleton-shimmer {
			animation: skeleton-pulse 3s ease-in-out infinite !important;
		}
		
		.skeleton-shimmer::after {
			animation: none !important;
			opacity: 0.3 !important;
		}
	}

	/* Scrollbar Hide - Hide scrollbar while maintaining scroll functionality */
	.scrollbar-hide {
		-ms-overflow-style: none !important;  /* IE and Edge */
		scrollbar-width: none !important;  /* Firefox */
	}

	.scrollbar-hide::-webkit-scrollbar {
		display: none !important;  /* Chrome, Safari, Opera */
	}
}
